---
import Layout from '../../layouts/Layout.astro';
import esUI from '../../i18n/es.json';
import enUI from '../../i18n/en.json';

export function getStaticPaths() {
  return [
    { params: { lang: 'es' } },
    { params: { lang: 'en' } },
  ];
}

const { lang } = Astro.params;
const ui = lang === 'es' ? esUI : enUI;
---

<Layout lang={lang} title={ui.site.title} description={ui.site.description}>
  
  <!-- Language Switcher -->
  <div class="fixed top-4 right-4 z-50 flex gap-2 bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 shadow-lg">
    <a 
      href="/es/" 
      class:list={[
        'px-3 py-1 rounded-full font-semibold transition-all',
        lang === 'es' ? 'bg-orange-600 text-white' : 'text-gray-600 hover:bg-gray-100'
      ]}
    >
      ES
    </a>
    <a 
      href="/en/" 
      class:list={[
        'px-3 py-1 rounded-full font-semibold transition-all',
        lang === 'en' ? 'bg-orange-600 text-white' : 'text-gray-600 hover:bg-gray-100'
      ]}
    >
      EN
    </a>
  </div>

  <!-- Hero Section -->
  <header class="relative h-screen min-h-[600px] bg-cover bg-center bg-fixed" style="background-image: url('/assets/restaurant-photo.webp?v=3');">
    <div class="absolute inset-0 bg-gradient-to-b from-black/50 to-black/70"></div>
    <div class="relative h-full flex flex-col items-center justify-center text-center p-8 text-white">
      <img 
        src="/assets/logo.jpg" 
        alt="Soda Marcela Logo" 
        class="w-[160px] h-[160px] md:w-[200px] md:h-[200px] object-cover rounded-full shadow-[0_10px_40px_rgba(0,0,0,0.3)] mb-8 border-4 border-white"
      />
      <h1 class="font-serif text-4xl md:text-[4rem] font-black mb-4 drop-shadow-md">{ui.site.title.split(' - ')[0]}</h1>
      <p class="text-xl md:text-2xl font-light mb-2 max-w-[600px]" set:html={ui.hero.subtitle} />
      <p class="text-lg mb-8 opacity-90">{ui.hero.location}</p>
      
      <a 
        href={`/menu_final_v4_${lang}.pdf`} 
        target="_blank" 
        rel="noopener noreferrer"
        class="inline-flex items-center px-8 py-4 bg-gradient-to-br from-orange-600 to-red-600 text-white font-bold text-lg rounded-full transition-all shadow-[0_10px_25px_rgba(234,88,12,0.4)] hover:-translate-y-0.5 hover:shadow-[0_15px_35px_rgba(234,88,12,0.5)]"
      >
        <span>{ui.hero.menu_button}</span>
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </div>
  </header>

  <!-- About Section -->
  <section id="about" class="py-16 px-4 md:py-24 md:px-8">
    <div class="max-w-[900px] mx-auto text-center">
      <h2 class="font-serif text-3xl md:text-[2.5rem] font-bold text-amber-900 mb-6">{ui.about.title}</h2>
      <p class="text-lg leading-relaxed text-gray-700 mb-8" set:html={ui.about.body} />
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="py-16 px-4 md:py-24 md:px-8 bg-gradient-to-b from-amber-100 to-orange-200">
    <div class="max-w-[900px] mx-auto text-center">
      <h2 class="font-serif text-3xl md:text-[2.5rem] font-bold text-amber-900 mb-6">{ui.services.title}</h2>
      <p class="text-lg leading-relaxed text-gray-700 mb-8" set:html={ui.services.body} />
      <a href="tel:+506XXXXXXXX" class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-br from-orange-600 to-red-600 text-white font-bold text-lg rounded-full transition-all shadow-[0_10px_25px_rgba(234,88,12,0.4)] hover:-translate-y-0.5 hover:shadow-[0_15px_35px_rgba(234,88,12,0.5)]">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
        </svg>
        <span>{ui.services.order_button}</span>
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12 px-4 text-center">
    <p>&copy; {new Date().getFullYear()} Soda Marcela. {ui.footer.copyright}</p>
    <p class="mt-2 opacity-80">{ui.hero.location}</p>
  </footer>
</Layout>
